import turtle
def draw_bar(t, height):
    #
    #ฟังก์ชันสำหรับวาดแท่งกราฟ 1 แท่ง
    #อ้างอิง: แปลงข้อมูลเป็นกราฟิก , การระบายสี , การเขียนตัวเลขกำกับ 
    t.color("blue", "green")  # ขอบสีน้ำเงิน , ระบายสีเขียว
    t.begin_fill()           # เริ่มระบายสี
    t.left(90)
    t.forward(height)        # ลากเส้นขึ้นตามความสูงของข้อมูล
    t.write("  " + str(height)) # เขียนค่าตัวเลขกำกับที่ยอดกราฟ 
    t.right(90)
    t.forward(40)            # ความกว้างของแท่งกราฟ
    t.right(90)
    t.forward(height)        # ลากเส้นลง
    t.left(90)
    t.end_fill()             # จบการระบายสี
    t.forward(10)            # เว้นระยะห่างระหว่างแท่ง

# 1. เตรียมข้อมูลจริง (Data)
data = [48, 117, 200, 240, 160, 260, 220]
max_height = max(data)       # หาค่าสูงสุดเพื่อกำหนดเพดานกราฟ (260)
num_bars = len(data)         # หาจำนวนข้อมูลเพื่อกำหนดความกว้างกราฟ

# 2. ตั้งค่าหน้าจอและ Turtle
wn = turtle.Screen()
t = turtle.Turtle()
t.pensize(3)

# 3. หัวใจสำคัญ: การใช้ setworldcoordinates กับข้อมูลจริง 
# รูปแบบ: setworldcoordinates(llx, lly, urx, ury)
# llx, lly = มุมล่างซ้าย (Lower Left)
# urx, ury = มุมบนขวา (Upper Right)
# เรากำหนดให้แกน Y สูงกว่าค่าสูงสุดของข้อมูลเล็กน้อย (+10) เพื่อให้กราฟไม่ชนขอบจอ
wn.setworldcoordinates(0, 0, num_bars * 50 + 50, max_height + 50)

# 4. วนลูปวาดกราฟตามข้อมูล [2]
for h in data:
    draw_bar(t, h)

wn.mainloop()
